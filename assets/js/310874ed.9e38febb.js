"use strict";(self.webpackChunkochocast=self.webpackChunkochocast||[]).push([[2977],{6129:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"documentation/tools/Backend-Architecture","title":"Documentation de la structure en diamant du backend","description":"Introduction","source":"@site/docs/documentation/02-tools/02-Backend-Architecture.md","sourceDirName":"documentation/02-tools","slug":"/documentation/tools/Backend-Architecture","permalink":"/docs/documentation/tools/Backend-Architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Front-End","permalink":"/docs/documentation/tools/Front-end"},"next":{"title":"Gestion des Buckets S3","permalink":"/docs/documentation/tools/stockage-s3"}}');var t=s(4848),d=s(8453);const r={},o="Documentation de la structure en diamant du backend",l={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Structure du projet",id:"structure-du-projet",level:2},{value:"1. <code>domain/</code>",id:"1-domain",level:3},{value:"Fichiers cl\xe9s :",id:"fichiers-cl\xe9s-",level:4},{value:"2. <code>infra/</code>",id:"2-infra",level:3},{value:"Sous-dossiers :",id:"sous-dossiers-",level:4},{value:"3. <code>tags.module.ts</code>",id:"3-tagsmodulets",level:3},{value:"Exemple: ajout de la modification",id:"exemple-ajout-de-la-modification",level:2},{value:"1. Ajouter le usecase dans <code>domain/usecases/</code>",id:"1-ajouter-le-usecase-dans-domainusecases",level:3},{value:"2. Modifier le gateway dans <code>domain/gateways/</code>",id:"2-modifier-le-gateway-dans-domaingateways",level:3},{value:"3. Impl\xe9menter la mise \xe0 jour dans <code>infra/gateways/</code>",id:"3-impl\xe9menter-la-mise-\xe0-jour-dans-infragateways",level:3},{value:"4. Ajouter un DTO dans <code>infra/controllers/dto/</code>",id:"4-ajouter-un-dto-dans-infracontrollersdto",level:3},{value:"5. Modifier le contr\xf4leur dans <code>infra/controllers/</code>",id:"5-modifier-le-contr\xf4leur-dans-infracontrollers",level:3},{value:"6. Mise \xe0 jour du module",id:"6-mise-\xe0-jour-du-module",level:3},{value:"Conclusion",id:"conclusion",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"documentation-de-la-structure-en-diamant-du-backend",children:"Documentation de la structure en diamant du backend"})}),"\n",(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(n.p,{children:"Ce document d\xe9crit l'organisation du backend en suivant une architecture en diamant. Cette structure permet une s\xe9paration claire des responsabilit\xe9s et une meilleure maintenabilit\xe9 du code."}),"\n",(0,t.jsx)(n.h2,{id:"structure-du-projet",children:"Structure du projet"}),"\n",(0,t.jsx)(n.p,{children:"Le projet est organis\xe9 en plusieurs dossiers principaux :"}),"\n",(0,t.jsxs)(n.h3,{id:"1-domain",children:["1. ",(0,t.jsx)(n.code,{children:"domain/"})]}),"\n",(0,t.jsx)(n.p,{children:"Ce dossier contient la logique m\xe9tier de l'application, divis\xe9e en deux sous-parties :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"gateways/"})})," : D\xe9finit les interfaces qui d\xe9crivent les interactions avec l'infrastructure sous-jacente."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"usecases/"})})," : Contient les cas d'utilisation qui encapsulent la logique m\xe9tier."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"fichiers-cl\xe9s-",children:"Fichiers cl\xe9s :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tags.gateway.ts"})," : Interface d\xe9finissant les m\xe9thodes de manipulation des tags."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"createNewTag.usecase.ts"})," : Cas d'utilisation pour la cr\xe9ation d'un tag."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"deleteTag.usecase.ts"})," : Cas d'utilisation pour la suppression d'un tag."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getListTags.usecase.ts"})," : Cas d'utilisation pour obtenir une liste de tags."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getTags.usecase.ts"})," : Cas d'utilisation pour r\xe9cup\xe9rer un tag sp\xe9cifique."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tag.ts"})," : D\xe9finit l'entit\xe9 m\xe9tier des tags."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"2-infra",children:["2. ",(0,t.jsx)(n.code,{children:"infra/"})]}),"\n",(0,t.jsxs)(n.p,{children:["Ce dossier contient l'impl\xe9mentation concr\xe8te des interfaces d\xe9finies dans ",(0,t.jsx)(n.code,{children:"domain/"})," ainsi que la gestion des interactions externes."]}),"\n",(0,t.jsx)(n.h4,{id:"sous-dossiers-",children:"Sous-dossiers :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"controllers/"})})," : G\xe8re les requ\xeates entrantes et invoque les cas d'utilisation appropri\xe9s."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tags.controller.ts"})," : Contr\xf4leur pour la gestion des tags."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"dto/"})," : Contient les objets de transfert de donn\xe9es (DTOs) utilis\xe9s dans les requ\xeates et r\xe9ponses.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"create-tag.dto.ts"})," : DTO pour la cr\xe9ation d'un tag."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"gateways/"})})," : Contient les impl\xe9mentations des interfaces d\xe9finies dans ",(0,t.jsx)(n.code,{children:"domain/gateways/"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"entities/"})," : D\xe9finit les mod\xe8les de donn\xe9es et leurs interactions avec la base de donn\xe9es.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tag.entity.ts"})," : Mod\xe8le de donn\xe9es repr\xe9sentant un tag."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tag.gateway.ts"})," : Impl\xe9mentation concr\xe8te du gateway pour les tags."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"3-tagsmodulets",children:["3. ",(0,t.jsx)(n.code,{children:"tags.module.ts"})]}),"\n",(0,t.jsx)(n.p,{children:"Ce fichier regroupe et exporte les diff\xe9rents \xe9l\xe9ments li\xe9s aux tags sous forme d'un module pour \xeatre utilis\xe9 dans l'application."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Exemple de structure en diamant",src:s(9911).A+"",width:"219",height:"438"})}),"\n",(0,t.jsx)(n.h2,{id:"exemple-ajout-de-la-modification",children:"Exemple: ajout de la modification"}),"\n",(0,t.jsx)(n.p,{children:"Pour ajouter un nouveau usecase permettant de modifier un tag, voici les \xe9tapes \xe0 suivre :"}),"\n",(0,t.jsxs)(n.h3,{id:"1-ajouter-le-usecase-dans-domainusecases",children:["1. Ajouter le usecase dans ",(0,t.jsx)(n.code,{children:"domain/usecases/"})]}),"\n",(0,t.jsxs)(n.p,{children:["Cr\xe9er un fichier ",(0,t.jsx)(n.code,{children:"updateTag.usecase.ts"})," et impl\xe9menter la logique m\xe9tier de modification d'un tag."]}),"\n",(0,t.jsxs)(n.h3,{id:"2-modifier-le-gateway-dans-domaingateways",children:["2. Modifier le gateway dans ",(0,t.jsx)(n.code,{children:"domain/gateways/"})]}),"\n",(0,t.jsxs)(n.p,{children:["Ajouter une m\xe9thode ",(0,t.jsx)(n.code,{children:"updateTag"})," dans ",(0,t.jsx)(n.code,{children:"tags.gateway.ts"})," pour d\xe9finir l'interface de mise \xe0 jour."]}),"\n",(0,t.jsxs)(n.h3,{id:"3-impl\xe9menter-la-mise-\xe0-jour-dans-infragateways",children:["3. Impl\xe9menter la mise \xe0 jour dans ",(0,t.jsx)(n.code,{children:"infra/gateways/"})]}),"\n",(0,t.jsxs)(n.p,{children:["Dans ",(0,t.jsx)(n.code,{children:"tag.gateway.ts"}),", ajouter l'impl\xe9mentation de la m\xe9thode ",(0,t.jsx)(n.code,{children:"updateTag"})," pour interagir avec la base de donn\xe9es."]}),"\n",(0,t.jsxs)(n.h3,{id:"4-ajouter-un-dto-dans-infracontrollersdto",children:["4. Ajouter un DTO dans ",(0,t.jsx)(n.code,{children:"infra/controllers/dto/"})]}),"\n",(0,t.jsxs)(n.p,{children:["Cr\xe9er un fichier ",(0,t.jsx)(n.code,{children:"update-tag.dto.ts"})," pour d\xe9finir le format des donn\xe9es re\xe7ues pour la modification."]}),"\n",(0,t.jsxs)(n.h3,{id:"5-modifier-le-contr\xf4leur-dans-infracontrollers",children:["5. Modifier le contr\xf4leur dans ",(0,t.jsx)(n.code,{children:"infra/controllers/"})]}),"\n",(0,t.jsxs)(n.p,{children:["Dans ",(0,t.jsx)(n.code,{children:"tags.controller.ts"}),", ajouter un nouvel endpoint ",(0,t.jsx)(n.code,{children:"PUT /tags/:id"})," qui re\xe7oit les donn\xe9es du DTO et appelle le usecase de mise \xe0 jour."]}),"\n",(0,t.jsx)(n.h3,{id:"6-mise-\xe0-jour-du-module",children:"6. Mise \xe0 jour du module"}),"\n",(0,t.jsxs)(n.p,{children:["Dans ",(0,t.jsx)(n.code,{children:"tags.module.ts"}),", enregistrer le nouveau usecase et le rendre disponible pour l'application."]}),"\n",(0,t.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsxs)(n.p,{children:["L'architecture en diamant offre une s\xe9paration stricte entre la logique m\xe9tier (",(0,t.jsx)(n.code,{children:"domain"}),") et l'infrastructure (",(0,t.jsx)(n.code,{children:"infra"}),")."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Les cas d'utilisation"})," manipulent uniquement les entit\xe9s et les gateways abstraits."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Les impl\xe9mentations concr\xe8tes"})," se trouvent dans ",(0,t.jsx)(n.code,{children:"infra"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Les contr\xf4leurs"})," orchestrent les interactions entre l'API et la logique m\xe9tier."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},9911:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/Hex-Architecture-Tags-42bd2d0088e57bbbb63265a247b60e06.png"},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(6540);const t={},d=i.createContext(t);function r(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);