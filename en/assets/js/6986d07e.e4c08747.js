"use strict";(self.webpackChunkochocast=self.webpackChunkochocast||[]).push([[9854],{7463:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"documentation/tools/Backend-Architecture","title":"Backend Diamond Architecture Documentation","description":"Introduction","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/documentation/02-tools/02-Backend-Architecture.md","sourceDirName":"documentation/02-tools","slug":"/documentation/tools/Backend-Architecture","permalink":"/en/docs/documentation/tools/Backend-Architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Front-End","permalink":"/en/docs/documentation/tools/Front-end"},"next":{"title":"S3 Bucket Management","permalink":"/en/docs/documentation/tools/stockage-s3"}}');var i=t(4848),d=t(8453);const a={},c="Backend Diamond Architecture Documentation",o={},r=[{value:"Introduction",id:"introduction",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"1. <code>domain/</code>",id:"1-domain",level:3},{value:"Key files:",id:"key-files",level:4},{value:"2. <code>infra/</code>",id:"2-infra",level:3},{value:"Subfolders:",id:"subfolders",level:4},{value:"3. <code>tags.module.ts</code>",id:"3-tagsmodulets",level:3},{value:"Example: Adding an Update Feature",id:"example-adding-an-update-feature",level:2},{value:"1. Add the use case in <code>domain/usecases/</code>",id:"1-add-the-use-case-in-domainusecases",level:3},{value:"2. Modify the gateway in <code>domain/gateways/</code>",id:"2-modify-the-gateway-in-domaingateways",level:3},{value:"3. Implement the update in <code>infra/gateways/</code>",id:"3-implement-the-update-in-infragateways",level:3},{value:"4. Add a DTO in <code>infra/controllers/dto/</code>",id:"4-add-a-dto-in-infracontrollersdto",level:3},{value:"5. Modify the controller in <code>infra/controllers/</code>",id:"5-modify-the-controller-in-infracontrollers",level:3},{value:"6. Update the module",id:"6-update-the-module",level:3},{value:"Conclusion",id:"conclusion",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"backend-diamond-architecture-documentation",children:"Backend Diamond Architecture Documentation"})}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(n.p,{children:"This document describes the backend organization following a diamond architecture. This structure allows for a clear separation of responsibilities and better code maintainability."}),"\n",(0,i.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,i.jsx)(n.p,{children:"The project is organized into several main folders:"}),"\n",(0,i.jsxs)(n.h3,{id:"1-domain",children:["1. ",(0,i.jsx)(n.code,{children:"domain/"})]}),"\n",(0,i.jsx)(n.p,{children:"This folder contains the application's business logic, divided into two sub-parts:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"gateways/"})}),": Defines interfaces that describe interactions with the underlying infrastructure."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"usecases/"})}),": Contains use cases that encapsulate business logic."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"key-files",children:"Key files:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tags.gateway.ts"}),": Interface defining tag manipulation methods."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"createNewTag.usecase.ts"}),": Use case for creating a tag."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"deleteTag.usecase.ts"}),": Use case for deleting a tag."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getListTags.usecase.ts"}),": Use case for getting a list of tags."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getTags.usecase.ts"}),": Use case for retrieving a specific tag."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tag.ts"}),": Defines the tag business entity."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"2-infra",children:["2. ",(0,i.jsx)(n.code,{children:"infra/"})]}),"\n",(0,i.jsxs)(n.p,{children:["This folder contains the concrete implementation of interfaces defined in ",(0,i.jsx)(n.code,{children:"domain/"})," as well as external interaction management."]}),"\n",(0,i.jsx)(n.h4,{id:"subfolders",children:"Subfolders:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"controllers/"})}),": Handles incoming requests and invokes appropriate use cases."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tags.controller.ts"}),": Controller for tag management."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dto/"}),": Contains Data Transfer Objects (DTOs) used in requests and responses.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"create-tag.dto.ts"}),": DTO for tag creation."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"gateways/"})}),": Contains implementations of interfaces defined in ",(0,i.jsx)(n.code,{children:"domain/gateways/"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"entities/"}),": Defines data models and their interactions with the database.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tag.entity.ts"}),": Data model representing a tag."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tag.gateway.ts"}),": Concrete gateway implementation for tags."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"3-tagsmodulets",children:["3. ",(0,i.jsx)(n.code,{children:"tags.module.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"This file groups and exports the various tag-related elements as a module to be used in the application."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Diamond structure example",src:t(9911).A+"",width:"219",height:"438"})}),"\n",(0,i.jsx)(n.h2,{id:"example-adding-an-update-feature",children:"Example: Adding an Update Feature"}),"\n",(0,i.jsx)(n.p,{children:"To add a new use case to modify a tag, follow these steps:"}),"\n",(0,i.jsxs)(n.h3,{id:"1-add-the-use-case-in-domainusecases",children:["1. Add the use case in ",(0,i.jsx)(n.code,{children:"domain/usecases/"})]}),"\n",(0,i.jsxs)(n.p,{children:["Create a file ",(0,i.jsx)(n.code,{children:"updateTag.usecase.ts"})," and implement the business logic for tag modification."]}),"\n",(0,i.jsxs)(n.h3,{id:"2-modify-the-gateway-in-domaingateways",children:["2. Modify the gateway in ",(0,i.jsx)(n.code,{children:"domain/gateways/"})]}),"\n",(0,i.jsxs)(n.p,{children:["Add an ",(0,i.jsx)(n.code,{children:"updateTag"})," method in ",(0,i.jsx)(n.code,{children:"tags.gateway.ts"})," to define the update interface."]}),"\n",(0,i.jsxs)(n.h3,{id:"3-implement-the-update-in-infragateways",children:["3. Implement the update in ",(0,i.jsx)(n.code,{children:"infra/gateways/"})]}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"tag.gateway.ts"}),", add the implementation of the ",(0,i.jsx)(n.code,{children:"updateTag"})," method to interact with the database."]}),"\n",(0,i.jsxs)(n.h3,{id:"4-add-a-dto-in-infracontrollersdto",children:["4. Add a DTO in ",(0,i.jsx)(n.code,{children:"infra/controllers/dto/"})]}),"\n",(0,i.jsxs)(n.p,{children:["Create a file ",(0,i.jsx)(n.code,{children:"update-tag.dto.ts"})," to define the format of data received for modification."]}),"\n",(0,i.jsxs)(n.h3,{id:"5-modify-the-controller-in-infracontrollers",children:["5. Modify the controller in ",(0,i.jsx)(n.code,{children:"infra/controllers/"})]}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"tags.controller.ts"}),", add a new endpoint ",(0,i.jsx)(n.code,{children:"PUT /tags/:id"})," that receives DTO data and calls the update use case."]}),"\n",(0,i.jsx)(n.h3,{id:"6-update-the-module",children:"6. Update the module"}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"tags.module.ts"}),", register the new use case and make it available to the application."]}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsxs)(n.p,{children:["The diamond architecture provides a strict separation between business logic (",(0,i.jsx)(n.code,{children:"domain"}),") and infrastructure (",(0,i.jsx)(n.code,{children:"infra"}),")."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use cases"})," only manipulate entities and abstract gateways."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Concrete implementations"})," are located in ",(0,i.jsx)(n.code,{children:"infra"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Controllers"})," orchestrate interactions between the API and business logic."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},9911:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/Hex-Architecture-Tags-42bd2d0088e57bbbb63265a247b60e06.png"},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var s=t(6540);const i={},d=s.createContext(i);function a(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);